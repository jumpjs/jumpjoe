!function(n){function t(i){if(e[i])return e[i].exports;var c=e[i]={exports:{},id:i,loaded:!1};return n[i].call(c.exports,c,c.exports,t),c.loaded=!0,c.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){n.exports=e(1)},function(module,exports,__webpack_require__){eval("var jumpjs = __webpack_require__(2);\n\nif (window) {\n  window.jumpjs = jumpjs;\n}\n\nmodule.exports = jumpjs;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9pbmRleC5qcz8yNjQ1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGp1bXBqcyA9IHJlcXVpcmUoJy4vbGliJyk7XG5cbmlmICh3aW5kb3cpIHtcbiAgd2luZG93Lmp1bXBqcyA9IGp1bXBqcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBqdW1wanM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("var core = __webpack_require__(3);\nvar entities = __webpack_require__(6);\nvar graphics = __webpack_require__(14);\nvar input = __webpack_require__(17);\nvar components = __webpack_require__(19);\n\n/**\n * Setup\n */\nif (window) {\n  var lastTime = 0;\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n  }\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = (callback, element) => {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      var id = window.setTimeout(() => {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n  }\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = id => {\n      clearTimeout(id);\n    };\n  }\n}\n\nvar ready = function(canvas, cb) {\n  core.Game.setCanvas(canvas);\n  document.addEventListener('DOMContentLoaded', function () {\n    core.Game.run();\n    cb();\n  }, false);\n};\n\nmodule.exports = {\n  core,\n  graphics,\n  input,\n  components,\n  ready,\n  entities\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaW5kZXguanM/YmRkOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixxREFBcUQ7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvcmUgPSByZXF1aXJlKCcuL2NvcmUnKTtcbnZhciBlbnRpdGllcyA9IHJlcXVpcmUoJy4vZW50aXRpZXMnKTtcbnZhciBncmFwaGljcyA9IHJlcXVpcmUoJy4vZ3JhcGhpY3MnKTtcbnZhciBpbnB1dCA9IHJlcXVpcmUoJy4vaW5wdXQnKTtcbnZhciBjb21wb25lbnRzID0gcmVxdWlyZSgnLi9jb21wb25lbnRzJyk7XG5cbi8qKlxuICogU2V0dXBcbiAqL1xuaWYgKHdpbmRvdykge1xuICB2YXIgbGFzdFRpbWUgPSAwO1xuICB2YXIgdmVuZG9ycyA9IFsnbXMnLCAnbW96JywgJ3dlYmtpdCcsICdvJ107XG4gIGZvciAodmFyIHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreCkge1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdmVuZG9yc1t4XSArICdSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdmVuZG9yc1t4XSArICdDYW5jZWxBbmltYXRpb25GcmFtZSddIHx8IHdpbmRvd1t2ZW5kb3JzW3hdICsgJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICB9XG4gIGlmICghd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAoY2FsbGJhY2ssIGVsZW1lbnQpID0+IHtcbiAgICAgIHZhciBjdXJyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgdmFyIHRpbWVUb0NhbGwgPSBNYXRoLm1heCgwLCAxNiAtIChjdXJyVGltZSAtIGxhc3RUaW1lKSk7XG4gICAgICB2YXIgaWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGN1cnJUaW1lICsgdGltZVRvQ2FsbCk7XG4gICAgICB9LCB0aW1lVG9DYWxsKTtcbiAgICAgIGxhc3RUaW1lID0gY3VyclRpbWUgKyB0aW1lVG9DYWxsO1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH07XG4gIH1cbiAgaWYgKCF3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBpZCA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgIH07XG4gIH1cbn1cblxudmFyIHJlYWR5ID0gZnVuY3Rpb24oY2FudmFzLCBjYikge1xuICBjb3JlLkdhbWUuc2V0Q2FudmFzKGNhbnZhcyk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgY29yZS5HYW1lLnJ1bigpO1xuICAgIGNiKCk7XG4gIH0sIGZhbHNlKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb3JlLFxuICBncmFwaGljcyxcbiAgaW5wdXQsXG4gIGNvbXBvbmVudHMsXG4gIHJlYWR5LFxuICBlbnRpdGllc1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("var Game = __webpack_require__(4);\nvar Scene = __webpack_require__(5);\n\nmodule.exports = {\n  Game,\n  Scene\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29yZS9pbmRleC5qcz8zZmFhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBHYW1lID0gcmVxdWlyZSgnLi9HYW1lJyk7XG52YXIgU2NlbmUgPSByZXF1aXJlKCcuL1NjZW5lJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBHYW1lLFxuICBTY2VuZVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2NvcmUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("var FPS = 60;\nvar FRAME_DURATION = 1000 / FPS;\nvar fps = 0;\nvar frames = 0;\nvar scene = null;\nvar previousTime = null;\nvar delta = null;\nvar canvas = null;\nvar context = null;\nvar elapsed = 0;\n\nvar Game = {\n  paused: false,\n  getCanvas() {\n    return canvas;\n  },\n  setCanvas(_canvas) {\n    canvas = _canvas;\n    context = canvas.getContext('2d');\n    canvas.addEventListener('click', function(event) {\n      var x = event.pageX - canvas.offsetLeft;\n      var y = event.pageY - canvas.offsetTop;\n      scene.onClick(x, y, event);\n    }, false);\n  },\n  getContext() {\n    return context;\n  },\n  getScene() {\n    return scene;\n  },\n  setScene(_scene) {\n    _scene.reset();\n    scene = _scene;\n  },\n  resetScene() {\n    scene.reset();\n  },\n  getDelta() {\n    return delta;\n  },\n  getFPS() {\n    return Math.round(1 / elapsed);\n  },\n  run() {\n    _gameLoop();\n  }\n};\n\nmodule.exports = Game;\n\nfunction _gameLoop() {\n\n  //Call the next iteration of the game loop\n  window.requestAnimationFrame(() => _gameLoop());\n\n  //calculate the delta time between this current timestamp (frame)\n  //and the previous\n  var now = window.performance.now();\n  elapsed = (now - (previousTime || now)) / 1000;\n  delta = now - previousTime;\n\n  //correct any huge unexpected gaps in the delta\n  if (delta > 1000) {\n    delta = FRAME_DURATION;\n  }\n\n  // Store the current transformation matrix\n  context.save();\n\n  // Use the identity matrix while clearing the canvas\n  context.setTransform(1, 0, 0, 1, 0, 0);\n  context.clearRect(0, 0, canvas.width, canvas.height);\n\n  // Restore the transform\n  context.restore();\n\n  //Update all of the game components\n  if (scene) {\n    scene.update();\n  }\n\n  //set the current time to be used as the previous\n  //for the next frame\n  previousTime = now;\n\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29yZS9HYW1lLmpzP2Q0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRlBTID0gNjA7XG52YXIgRlJBTUVfRFVSQVRJT04gPSAxMDAwIC8gRlBTO1xudmFyIGZwcyA9IDA7XG52YXIgZnJhbWVzID0gMDtcbnZhciBzY2VuZSA9IG51bGw7XG52YXIgcHJldmlvdXNUaW1lID0gbnVsbDtcbnZhciBkZWx0YSA9IG51bGw7XG52YXIgY2FudmFzID0gbnVsbDtcbnZhciBjb250ZXh0ID0gbnVsbDtcbnZhciBlbGFwc2VkID0gMDtcblxudmFyIEdhbWUgPSB7XG4gIHBhdXNlZDogZmFsc2UsXG4gIGdldENhbnZhcygpIHtcbiAgICByZXR1cm4gY2FudmFzO1xuICB9LFxuICBzZXRDYW52YXMoX2NhbnZhcykge1xuICAgIGNhbnZhcyA9IF9jYW52YXM7XG4gICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgeCA9IGV2ZW50LnBhZ2VYIC0gY2FudmFzLm9mZnNldExlZnQ7XG4gICAgICB2YXIgeSA9IGV2ZW50LnBhZ2VZIC0gY2FudmFzLm9mZnNldFRvcDtcbiAgICAgIHNjZW5lLm9uQ2xpY2soeCwgeSwgZXZlbnQpO1xuICAgIH0sIGZhbHNlKTtcbiAgfSxcbiAgZ2V0Q29udGV4dCgpIHtcbiAgICByZXR1cm4gY29udGV4dDtcbiAgfSxcbiAgZ2V0U2NlbmUoKSB7XG4gICAgcmV0dXJuIHNjZW5lO1xuICB9LFxuICBzZXRTY2VuZShfc2NlbmUpIHtcbiAgICBfc2NlbmUucmVzZXQoKTtcbiAgICBzY2VuZSA9IF9zY2VuZTtcbiAgfSxcbiAgcmVzZXRTY2VuZSgpIHtcbiAgICBzY2VuZS5yZXNldCgpO1xuICB9LFxuICBnZXREZWx0YSgpIHtcbiAgICByZXR1cm4gZGVsdGE7XG4gIH0sXG4gIGdldEZQUygpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgxIC8gZWxhcHNlZCk7XG4gIH0sXG4gIHJ1bigpIHtcbiAgICBfZ2FtZUxvb3AoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBHYW1lO1xuXG5mdW5jdGlvbiBfZ2FtZUxvb3AoKSB7XG5cbiAgLy9DYWxsIHRoZSBuZXh0IGl0ZXJhdGlvbiBvZiB0aGUgZ2FtZSBsb29wXG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gX2dhbWVMb29wKCkpO1xuXG4gIC8vY2FsY3VsYXRlIHRoZSBkZWx0YSB0aW1lIGJldHdlZW4gdGhpcyBjdXJyZW50IHRpbWVzdGFtcCAoZnJhbWUpXG4gIC8vYW5kIHRoZSBwcmV2aW91c1xuICB2YXIgbm93ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICBlbGFwc2VkID0gKG5vdyAtIChwcmV2aW91c1RpbWUgfHwgbm93KSkgLyAxMDAwO1xuICBkZWx0YSA9IG5vdyAtIHByZXZpb3VzVGltZTtcblxuICAvL2NvcnJlY3QgYW55IGh1Z2UgdW5leHBlY3RlZCBnYXBzIGluIHRoZSBkZWx0YVxuICBpZiAoZGVsdGEgPiAxMDAwKSB7XG4gICAgZGVsdGEgPSBGUkFNRV9EVVJBVElPTjtcbiAgfVxuXG4gIC8vIFN0b3JlIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICBjb250ZXh0LnNhdmUoKTtcblxuICAvLyBVc2UgdGhlIGlkZW50aXR5IG1hdHJpeCB3aGlsZSBjbGVhcmluZyB0aGUgY2FudmFzXG4gIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gIC8vIFJlc3RvcmUgdGhlIHRyYW5zZm9ybVxuICBjb250ZXh0LnJlc3RvcmUoKTtcblxuICAvL1VwZGF0ZSBhbGwgb2YgdGhlIGdhbWUgY29tcG9uZW50c1xuICBpZiAoc2NlbmUpIHtcbiAgICBzY2VuZS51cGRhdGUoKTtcbiAgfVxuXG4gIC8vc2V0IHRoZSBjdXJyZW50IHRpbWUgdG8gYmUgdXNlZCBhcyB0aGUgcHJldmlvdXNcbiAgLy9mb3IgdGhlIG5leHQgZnJhbWVcbiAgcHJldmlvdXNUaW1lID0gbm93O1xuXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9jb3JlL0dhbWUuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("function Scene() {\n  this.entities = [];\n  this.onSetup = null;\n}\n\nScene.prototype.onClick = function(x, y, event) {\n  for (var i = 0; i < this.entities.length; i++) {\n    var entity = this.entities[i];\n    if (y > entity.transform.y &&\n        y < entity.transform.y + entity.transform.height &&\n        x > entity.transform.x &&\n        x < entity.transform.x + entity.transform.width) {\n      entity.emit('click', entity);\n    }\n  }\n}\n\nScene.prototype.reset = function() {\n  this.entities = [];\n  if (this.onSetup) {\n    this.onSetup();\n  }\n}\n\nScene.prototype.addEntity = function(entity, timeout) {\n  if (timeout) {\n    var self = this;\n    setTimeout(function() {\n      self.entities.push(entity);\n    }, timeout);\n  } else {\n    this.entities.push(entity);\n  }\n}\n\nScene.prototype.update = function() {\n  for (var i = 0; i < this.entities.length; i++) {\n    if (this.entities[i] && this.entities[i].update) {\n      this.entities[i].update();\n    }\n  }\n}\n\nScene.prototype.findEntityById = function(id) {\n  for (var i = 0; i < this.entities.length; i++) {\n    if (id === this.entities[i].getId()) {\n      return this.entities[i];\n    }\n  }\n}\n\nScene.prototype.findEntityByType = function(type) {\n  var entities = [];\n  for (var i = 0; i < this.entities.length; i++) {\n    if (this.entities[i] instanceof type) {\n      entities.push(this.entities[i]);\n    }\n  }\n  return entities;\n}\n\nScene.prototype.findEntityByComponentType = function(type) {\n  var entities = [];\n  for (var i = 0; i < this.entities.length; i++) {\n    var components = this.entities[i].findComponentByType(type);\n    if (components.length > 0) {\n      entities.push(this.entities[i]);\n    }\n  }\n  return entities;\n}\n\nmodule.exports = Scene;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29yZS9TY2VuZS5qcz9hN2FmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLDBCQUEwQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQiwwQkFBMEI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQiwwQkFBMEI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLDBCQUEwQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQiwwQkFBMEI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFNjZW5lKCkge1xuICB0aGlzLmVudGl0aWVzID0gW107XG4gIHRoaXMub25TZXR1cCA9IG51bGw7XG59XG5cblNjZW5lLnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24oeCwgeSwgZXZlbnQpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVudGl0eSA9IHRoaXMuZW50aXRpZXNbaV07XG4gICAgaWYgKHkgPiBlbnRpdHkudHJhbnNmb3JtLnkgJiZcbiAgICAgICAgeSA8IGVudGl0eS50cmFuc2Zvcm0ueSArIGVudGl0eS50cmFuc2Zvcm0uaGVpZ2h0ICYmXG4gICAgICAgIHggPiBlbnRpdHkudHJhbnNmb3JtLnggJiZcbiAgICAgICAgeCA8IGVudGl0eS50cmFuc2Zvcm0ueCArIGVudGl0eS50cmFuc2Zvcm0ud2lkdGgpIHtcbiAgICAgIGVudGl0eS5lbWl0KCdjbGljaycsIGVudGl0eSk7XG4gICAgfVxuICB9XG59XG5cblNjZW5lLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVudGl0aWVzID0gW107XG4gIGlmICh0aGlzLm9uU2V0dXApIHtcbiAgICB0aGlzLm9uU2V0dXAoKTtcbiAgfVxufVxuXG5TY2VuZS5wcm90b3R5cGUuYWRkRW50aXR5ID0gZnVuY3Rpb24oZW50aXR5LCB0aW1lb3V0KSB7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmVudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICB9LCB0aW1lb3V0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmVudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgfVxufVxuXG5TY2VuZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0aGlzLmVudGl0aWVzW2ldICYmIHRoaXMuZW50aXRpZXNbaV0udXBkYXRlKSB7XG4gICAgICB0aGlzLmVudGl0aWVzW2ldLnVwZGF0ZSgpO1xuICAgIH1cbiAgfVxufVxuXG5TY2VuZS5wcm90b3R5cGUuZmluZEVudGl0eUJ5SWQgPSBmdW5jdGlvbihpZCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaWQgPT09IHRoaXMuZW50aXRpZXNbaV0uZ2V0SWQoKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW50aXRpZXNbaV07XG4gICAgfVxuICB9XG59XG5cblNjZW5lLnByb3RvdHlwZS5maW5kRW50aXR5QnlUeXBlID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZW50aXRpZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHRoaXMuZW50aXRpZXNbaV0gaW5zdGFuY2VvZiB0eXBlKSB7XG4gICAgICBlbnRpdGllcy5wdXNoKHRoaXMuZW50aXRpZXNbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZW50aXRpZXM7XG59XG5cblNjZW5lLnByb3RvdHlwZS5maW5kRW50aXR5QnlDb21wb25lbnRUeXBlID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZW50aXRpZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNvbXBvbmVudHMgPSB0aGlzLmVudGl0aWVzW2ldLmZpbmRDb21wb25lbnRCeVR5cGUodHlwZSk7XG4gICAgaWYgKGNvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgZW50aXRpZXMucHVzaCh0aGlzLmVudGl0aWVzW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVudGl0aWVzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNjZW5lO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvY29yZS9TY2VuZS5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("var Entity = __webpack_require__(7);\nvar Button = __webpack_require__(11);\n\nmodule.exports = {\n  Entity,\n  Button\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZW50aXRpZXMvaW5kZXguanM/NjA0MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRW50aXR5ID0gcmVxdWlyZSgnLi9FbnRpdHknKTtcbnZhciBCdXR0b24gPSByZXF1aXJlKCcuL0J1dHRvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgRW50aXR5LFxuICBCdXR0b25cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9lbnRpdGllcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("var EventEmitter = __webpack_require__(8).EventEmitter;\nvar Transform = __webpack_require__(9);\n\nfunction Entity(x, y, width, height) {\n  EventEmitter.call(this);\n  this.id = null;\n  this.components = {};\n  this.addComponent('transform', new Transform(x, y, width, height));\n}\n\nEntity.prototype = Object.create(EventEmitter.prototype);\nEntity.prototype.constructor = Entity;\n\nEntity.prototype.addComponent = function(name, component) {\n  this.components[name] = component;\n  if (!this[name]) {\n    Object.defineProperty(this, name, {\n      get: function() {\n        return this.components[name];\n      },\n      set: function(value) {\n        this.components[name] = value;\n      }\n    });\n  }\n};\n\nEntity.prototype.removeComponent = function(name) {\n  this.components[name] = null;\n  delete this.components[name];\n};\n\nEntity.prototype.findComponentByType = function(type) {\n  var components = [];\n  var keys = Object.keys(this.components);\n  for (var i = 0; i < keys.length; i++) {\n    var component = this.components[keys[i]];\n    if (component instanceof type) {\n      components.push(this.components[i]);\n    }\n  }\n  return components;\n};\n\nEntity.prototype.hasComponent = function(type) {\n  var keys = Object.keys(this.components);\n  for (var i = 0; i < keys.length; i++) {\n    var component = this.components[keys[i]];\n    if (component instanceof type) {\n      return true;\n    }\n  }\n};\n\nEntity.prototype.update = function() {\n  var keys = Object.keys(this.components);\n  for (var i = 0; i < keys.length; i++) {\n    var component = this.components[keys[i]];\n    if (component && component.update) {\n      component.update(this);\n    }\n  }\n};\n\nEntity.prototype.setId = function(id) {\n  this.id = id;\n};\n\nEntity.prototype.getId = function() {\n  return this.id;\n};\n\nmodule.exports = Entity;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZW50aXRpZXMvRW50aXR5LmpzPzIzYmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixpQkFBaUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnLi4vY29tcG9uZW50cy9UcmFuc2Zvcm0nKTtcblxuZnVuY3Rpb24gRW50aXR5KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG4gIHRoaXMuaWQgPSBudWxsO1xuICB0aGlzLmNvbXBvbmVudHMgPSB7fTtcbiAgdGhpcy5hZGRDb21wb25lbnQoJ3RyYW5zZm9ybScsIG5ldyBUcmFuc2Zvcm0oeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xufVxuXG5FbnRpdHkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcbkVudGl0eS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFbnRpdHk7XG5cbkVudGl0eS5wcm90b3R5cGUuYWRkQ29tcG9uZW50ID0gZnVuY3Rpb24obmFtZSwgY29tcG9uZW50KSB7XG4gIHRoaXMuY29tcG9uZW50c1tuYW1lXSA9IGNvbXBvbmVudDtcbiAgaWYgKCF0aGlzW25hbWVdKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIG5hbWUsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudHNbbmFtZV07XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudHNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuRW50aXR5LnByb3RvdHlwZS5yZW1vdmVDb21wb25lbnQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHRoaXMuY29tcG9uZW50c1tuYW1lXSA9IG51bGw7XG4gIGRlbGV0ZSB0aGlzLmNvbXBvbmVudHNbbmFtZV07XG59O1xuXG5FbnRpdHkucHJvdG90eXBlLmZpbmRDb21wb25lbnRCeVR5cGUgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBjb21wb25lbnRzID0gW107XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5jb21wb25lbnRzKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50c1trZXlzW2ldXTtcbiAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgdHlwZSkge1xuICAgICAgY29tcG9uZW50cy5wdXNoKHRoaXMuY29tcG9uZW50c1tpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb21wb25lbnRzO1xufTtcblxuRW50aXR5LnByb3RvdHlwZS5oYXNDb21wb25lbnQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5jb21wb25lbnRzKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50c1trZXlzW2ldXTtcbiAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgdHlwZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG59O1xuXG5FbnRpdHkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuY29tcG9uZW50cyk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudHNba2V5c1tpXV07XG4gICAgaWYgKGNvbXBvbmVudCAmJiBjb21wb25lbnQudXBkYXRlKSB7XG4gICAgICBjb21wb25lbnQudXBkYXRlKHRoaXMpO1xuICAgIH1cbiAgfVxufTtcblxuRW50aXR5LnByb3RvdHlwZS5zZXRJZCA9IGZ1bmN0aW9uKGlkKSB7XG4gIHRoaXMuaWQgPSBpZDtcbn07XG5cbkVudGl0eS5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaWQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVudGl0eTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2VudGl0aWVzL0VudGl0eS5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL34vZXZlbnRzL2V2ZW50cy5qcz81YjAxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNILG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LiAoJyArIGVyICsgJyknKTtcbiAgICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZsaXN0ZW5lcikpXG4gICAgICByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChldmxpc3RlbmVyKVxuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvfi9ldmVudHMvZXZlbnRzLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports,__webpack_require__){eval("var Component = __webpack_require__(10);\n\nfunction Transform(x, y, width, height) {\n  Component.call(this);\n  this.x = x;\n  this.y = y;\n  this.width = width;\n  this.height = height;\n}\n\nTransform.prototype = Object.create(Component.prototype);\nTransform.prototype.constructor = Transform;\n\nTransform.prototype.getTop = function() {\n  return this.y;\n}\n\nTransform.prototype.getBottom = function() {\n  return this.y + this.height;\n}\n\nTransform.prototype.getLeft = function() {\n  return this.x;\n}\n\nTransform.prototype.getRight = function() {\n  return this.x + this.width;\n}\n\nmodule.exports = Transform;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9UcmFuc2Zvcm0uanM/M2RiZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIENvbXBvbmVudCA9IHJlcXVpcmUoJy4vQ29tcG9uZW50Jyk7XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gIENvbXBvbmVudC5jYWxsKHRoaXMpO1xuICB0aGlzLnggPSB4O1xuICB0aGlzLnkgPSB5O1xuICB0aGlzLndpZHRoID0gd2lkdGg7XG4gIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xufVxuXG5UcmFuc2Zvcm0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDb21wb25lbnQucHJvdG90eXBlKTtcblRyYW5zZm9ybS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUcmFuc2Zvcm07XG5cblRyYW5zZm9ybS5wcm90b3R5cGUuZ2V0VG9wID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnk7XG59XG5cblRyYW5zZm9ybS5wcm90b3R5cGUuZ2V0Qm90dG9tID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnkgKyB0aGlzLmhlaWdodDtcbn1cblxuVHJhbnNmb3JtLnByb3RvdHlwZS5nZXRMZWZ0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLng7XG59XG5cblRyYW5zZm9ybS5wcm90b3R5cGUuZ2V0UmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNmb3JtO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvY29tcG9uZW50cy9UcmFuc2Zvcm0uanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("function Component() {\n  this.onUpdate = null;\n}\n\nComponent.prototype.update = function(entity) {\n  if (this.onUpdate) {\n    this.onUpdate(entity);\n  }\n}\n\nmodule.exports = Component;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9Db21wb25lbnQuanM/MGU5ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIENvbXBvbmVudCgpIHtcbiAgdGhpcy5vblVwZGF0ZSA9IG51bGw7XG59XG5cbkNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oZW50aXR5KSB7XG4gIGlmICh0aGlzLm9uVXBkYXRlKSB7XG4gICAgdGhpcy5vblVwZGF0ZShlbnRpdHkpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29tcG9uZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvY29tcG9uZW50cy9Db21wb25lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("var Entity = __webpack_require__(7);\nvar Text = __webpack_require__(12);\nvar Rect = __webpack_require__(13);\n\nfunction Button(x, y, w, h) {\n  Entity.call(this, x, y, w, h);\n  this.addComponent('rect', new Rect());\n  this.addComponent('text', new Text());\n}\n\nButton.prototype = Object.create(Entity.prototype);\nButton.prototype.constructor = Button;\n\nmodule.exports = Button;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZW50aXRpZXMvQnV0dG9uLmpzP2NiYWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsImZpbGUiOiIxMS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBFbnRpdHkgPSByZXF1aXJlKCcuL0VudGl0eScpO1xudmFyIFRleHQgPSByZXF1aXJlKCcuLi9jb21wb25lbnRzL1RleHQnKTtcbnZhciBSZWN0ID0gcmVxdWlyZSgnLi4vY29tcG9uZW50cy9SZWN0Jyk7XG5cbmZ1bmN0aW9uIEJ1dHRvbih4LCB5LCB3LCBoKSB7XG4gIEVudGl0eS5jYWxsKHRoaXMsIHgsIHksIHcsIGgpO1xuICB0aGlzLmFkZENvbXBvbmVudCgncmVjdCcsIG5ldyBSZWN0KCkpO1xuICB0aGlzLmFkZENvbXBvbmVudCgndGV4dCcsIG5ldyBUZXh0KCkpO1xufVxuXG5CdXR0b24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFbnRpdHkucHJvdG90eXBlKTtcbkJ1dHRvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCdXR0b247XG5cbm1vZHVsZS5leHBvcnRzID0gQnV0dG9uO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvZW50aXRpZXMvQnV0dG9uLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("var Game = __webpack_require__(4);\nvar Component = __webpack_require__(10);\nvar defaultFont = '14px Georgia';\n\nfunction Text(text, fillStyle) {\n  Component.call(this);\n  this.text = text;\n  this.font = null;\n  this.fillStyle = fillStyle || '#000000';\n  this.textAlign = 'center';\n  this.onUpdate = onUpdate;\n}\n\nText.prototype = Object.create(Component.prototype);\nText.prototype.constructor = Text;\n\nText.prototype.setText = function(text) {\n  this.text = text;\n};\n\nvar onUpdate = function (_entity) {\n  var ctx = Game.getContext();\n  if (this.font) {\n    ctx.font = this.font;\n  }\n  ctx.fillStyle = this.fillStyle;\n  ctx.textAlign = this.textAlign;\n  ctx.textBaseline = 'middle';\n  ctx.fillText(\n    this.text,\n    _entity.transform.x + Math.floor(_entity.transform.width / 2),\n    _entity.transform.y + Math.floor(_entity.transform.height / 2)\n  );\n  ctx.font = defaultFont;\n};\n\nmodule.exports = Text;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9UZXh0LmpzPzUxNzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEdhbWUgPSByZXF1aXJlKCcuLi9jb3JlL0dhbWUnKTtcbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuLi9jb21wb25lbnRzL0NvbXBvbmVudCcpO1xudmFyIGRlZmF1bHRGb250ID0gJzE0cHggR2VvcmdpYSc7XG5cbmZ1bmN0aW9uIFRleHQodGV4dCwgZmlsbFN0eWxlKSB7XG4gIENvbXBvbmVudC5jYWxsKHRoaXMpO1xuICB0aGlzLnRleHQgPSB0ZXh0O1xuICB0aGlzLmZvbnQgPSBudWxsO1xuICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZSB8fCAnIzAwMDAwMCc7XG4gIHRoaXMudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gIHRoaXMub25VcGRhdGUgPSBvblVwZGF0ZTtcbn1cblxuVGV4dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENvbXBvbmVudC5wcm90b3R5cGUpO1xuVGV4dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUZXh0O1xuXG5UZXh0LnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICB0aGlzLnRleHQgPSB0ZXh0O1xufTtcblxudmFyIG9uVXBkYXRlID0gZnVuY3Rpb24gKF9lbnRpdHkpIHtcbiAgdmFyIGN0eCA9IEdhbWUuZ2V0Q29udGV4dCgpO1xuICBpZiAodGhpcy5mb250KSB7XG4gICAgY3R4LmZvbnQgPSB0aGlzLmZvbnQ7XG4gIH1cbiAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuICBjdHgudGV4dEFsaWduID0gdGhpcy50ZXh0QWxpZ247XG4gIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgY3R4LmZpbGxUZXh0KFxuICAgIHRoaXMudGV4dCxcbiAgICBfZW50aXR5LnRyYW5zZm9ybS54ICsgTWF0aC5mbG9vcihfZW50aXR5LnRyYW5zZm9ybS53aWR0aCAvIDIpLFxuICAgIF9lbnRpdHkudHJhbnNmb3JtLnkgKyBNYXRoLmZsb29yKF9lbnRpdHkudHJhbnNmb3JtLmhlaWdodCAvIDIpXG4gICk7XG4gIGN0eC5mb250ID0gZGVmYXVsdEZvbnQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRleHQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9jb21wb25lbnRzL1RleHQuanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("var Game = __webpack_require__(4);\nvar Component = __webpack_require__(10);\n\nfunction Rect(color) {\n  Component.call(this);\n  this.color = color || 'black';\n  this.onUpdate = onUpdate;\n  this.fill = true;\n}\n\nRect.prototype = Object.create(Component.prototype);\nRect.prototype.constructor = Rect;\n\nvar onUpdate = function (_entity) {\n  var transform = _entity.transform;\n  var ctx = Game.getContext();\n  if (this.fill) {\n    ctx.fillStyle = this.color;\n    ctx.fillRect(transform.x, transform.y, transform.width, transform.height);\n  } else {\n    ctx.strokeRect(transform.x, transform.y, transform.width, transform.height);\n  }\n};\n\nmodule.exports = Rect;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9SZWN0LmpzPzIwNDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEdhbWUgPSByZXF1aXJlKCcuLi9jb3JlL0dhbWUnKTtcbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuLi9jb21wb25lbnRzL0NvbXBvbmVudCcpO1xuXG5mdW5jdGlvbiBSZWN0KGNvbG9yKSB7XG4gIENvbXBvbmVudC5jYWxsKHRoaXMpO1xuICB0aGlzLmNvbG9yID0gY29sb3IgfHwgJ2JsYWNrJztcbiAgdGhpcy5vblVwZGF0ZSA9IG9uVXBkYXRlO1xuICB0aGlzLmZpbGwgPSB0cnVlO1xufVxuXG5SZWN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ29tcG9uZW50LnByb3RvdHlwZSk7XG5SZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlY3Q7XG5cbnZhciBvblVwZGF0ZSA9IGZ1bmN0aW9uIChfZW50aXR5KSB7XG4gIHZhciB0cmFuc2Zvcm0gPSBfZW50aXR5LnRyYW5zZm9ybTtcbiAgdmFyIGN0eCA9IEdhbWUuZ2V0Q29udGV4dCgpO1xuICBpZiAodGhpcy5maWxsKSB7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgY3R4LmZpbGxSZWN0KHRyYW5zZm9ybS54LCB0cmFuc2Zvcm0ueSwgdHJhbnNmb3JtLndpZHRoLCB0cmFuc2Zvcm0uaGVpZ2h0KTtcbiAgfSBlbHNlIHtcbiAgICBjdHguc3Ryb2tlUmVjdCh0cmFuc2Zvcm0ueCwgdHJhbnNmb3JtLnksIHRyYW5zZm9ybS53aWR0aCwgdHJhbnNmb3JtLmhlaWdodCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVjdDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2NvbXBvbmVudHMvUmVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("var Sprite = __webpack_require__(15);\nvar SpriteSheet = __webpack_require__(16);\n\nmodule.exports = {\n  Sprite,\n  SpriteSheet\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZ3JhcGhpY3MvaW5kZXguanM/Zjg5NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFNwcml0ZSA9IHJlcXVpcmUoJy4vU3ByaXRlJyk7XG52YXIgU3ByaXRlU2hlZXQgPSByZXF1aXJlKCcuL1Nwcml0ZVNoZWV0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBTcHJpdGUsXG4gIFNwcml0ZVNoZWV0XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvZ3JhcGhpY3MvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("var Game = __webpack_require__(4);\nvar Component = __webpack_require__(10);\n\nfunction Sprite(img, x, y, width, height) {\n  Component.call(this);\n  this.img = img;\n  this.x = x;\n  this.y = y;\n  this.width = width;\n  this.height = height;\n  this.onUpdate = onUpdate\n}\n\nSprite.prototype = Object.create(Component.prototype);\nSprite.prototype.constructor = Sprite;\n\nSprite.prototype.setImg = function (img) {\n  this.img = img;\n}\n\nvar onUpdate = function (_entity) {\n  if (!this.img) {\n    return;\n  }\n  var transform = _entity.components['transform'];\n  var ctx = Game.getContext();\n  ctx.drawImage(this.img,\n    this.x,\n    this.y,\n    this.width,\n    this.height,\n    transform.x,\n    transform.y,\n    transform.width,\n    transform.height\n  );\n}\n\nmodule.exports = Sprite;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZ3JhcGhpY3MvU3ByaXRlLmpzPzJjZTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBHYW1lID0gcmVxdWlyZSgnLi4vY29yZS9HYW1lJyk7XG52YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vY29tcG9uZW50cy9Db21wb25lbnQnKTtcblxuZnVuY3Rpb24gU3ByaXRlKGltZywgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICBDb21wb25lbnQuY2FsbCh0aGlzKTtcbiAgdGhpcy5pbWcgPSBpbWc7XG4gIHRoaXMueCA9IHg7XG4gIHRoaXMueSA9IHk7XG4gIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIHRoaXMub25VcGRhdGUgPSBvblVwZGF0ZVxufVxuXG5TcHJpdGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDb21wb25lbnQucHJvdG90eXBlKTtcblNwcml0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTcHJpdGU7XG5cblNwcml0ZS5wcm90b3R5cGUuc2V0SW1nID0gZnVuY3Rpb24gKGltZykge1xuICB0aGlzLmltZyA9IGltZztcbn1cblxudmFyIG9uVXBkYXRlID0gZnVuY3Rpb24gKF9lbnRpdHkpIHtcbiAgaWYgKCF0aGlzLmltZykge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgdHJhbnNmb3JtID0gX2VudGl0eS5jb21wb25lbnRzWyd0cmFuc2Zvcm0nXTtcbiAgdmFyIGN0eCA9IEdhbWUuZ2V0Q29udGV4dCgpO1xuICBjdHguZHJhd0ltYWdlKHRoaXMuaW1nLFxuICAgIHRoaXMueCxcbiAgICB0aGlzLnksXG4gICAgdGhpcy53aWR0aCxcbiAgICB0aGlzLmhlaWdodCxcbiAgICB0cmFuc2Zvcm0ueCxcbiAgICB0cmFuc2Zvcm0ueSxcbiAgICB0cmFuc2Zvcm0ud2lkdGgsXG4gICAgdHJhbnNmb3JtLmhlaWdodFxuICApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNwcml0ZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2dyYXBoaWNzL1Nwcml0ZS5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("var Sprite = __webpack_require__(15);\n\nfunction SpriteSheet(src, map) {\n  this.map = map;\n  this.img = new Image();\n  this.img.src = src;\n  this.sprites = {};\n  for (var i = 0; i < map.length; i++) {\n    var info = map[i];\n    this.sprites[info.name] = new Sprite(this.img, info.x, info.y, info.width, info.height);\n  };\n}\n\nmodule.exports = SpriteSheet;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZ3JhcGhpY3MvU3ByaXRlU2hlZXQuanM/ZjFjMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBTcHJpdGUgPSByZXF1aXJlKCcuL1Nwcml0ZScpO1xuXG5mdW5jdGlvbiBTcHJpdGVTaGVldChzcmMsIG1hcCkge1xuICB0aGlzLm1hcCA9IG1hcDtcbiAgdGhpcy5pbWcgPSBuZXcgSW1hZ2UoKTtcbiAgdGhpcy5pbWcuc3JjID0gc3JjO1xuICB0aGlzLnNwcml0ZXMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXAubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaW5mbyA9IG1hcFtpXTtcbiAgICB0aGlzLnNwcml0ZXNbaW5mby5uYW1lXSA9IG5ldyBTcHJpdGUodGhpcy5pbWcsIGluZm8ueCwgaW5mby55LCBpbmZvLndpZHRoLCBpbmZvLmhlaWdodCk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU3ByaXRlU2hlZXQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9ncmFwaGljcy9TcHJpdGVTaGVldC5qc1xuLy8gbW9kdWxlIGlkID0gMTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("var Keyboard = __webpack_require__(18);\n\nmodule.exports = {\n  Keyboard\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaW5wdXQvaW5kZXguanM/OTEyOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgS2V5Ym9hcmQgPSByZXF1aXJlKCcuL0tleWJvYXJkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBLZXlib2FyZFxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2lucHV0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval('var keys = [];\n\nmodule.exports = {\n  bindKey(k){\n    return new Key(k);\n\t},\n  unbindKey(k) {\n    keys[k] = null;\n  }\n};\n\nfunction Key(k){\n\n\tif (k.length > 1) {\n\t\tvar c = 0;\n\t\tswitch (k.toUpperCase()) {\n      case "ENTER":    c=13; break;\n\t\t\tcase "LEFT":   \t c=37; break;\n\t\t\tcase "RIGHT": \t c=39; break;\n\t\t\tcase "UP":    \t c=38; break;\n\t\t\tcase "DOWN":  \t c=40; break;\n\t\t\tcase "SPACEBAR": c=32; break;\n\t\t}\n\t\tthis.code = c;\n\t} else {\n\t\tthis.code = k.charCodeAt(0);\n\t}\n\n\tthis.pressed = false;\n\tthis.event = null;\n\n\tkeys[this.code] = this;\n\n\treturn this;\n}\n\ndocument.addEventListener(\'keyup\', function () {\n\tvar keyCode = window.event.keyCode;\n\tif (keys[keyCode]) {\n\t\tkeys[keyCode].pressed = false;\n\t}\n});\ndocument.addEventListener(\'keydown\', function () {\n\tvar keyCode = window.event.keyCode;\n\tif (keys[keyCode]) {\n\t\tif (!keys[keyCode].pressed && keys[keyCode].event) {\n\t\t\tkeys[keyCode].event();\n\t\t}\n\t\tkeys[keyCode].pressed = true;\n\t}\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaW5wdXQvS2V5Ym9hcmQuanM/YjBlNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLHlCQUF5QjtBQUN6Qix3QkFBd0I7QUFDeEIsd0JBQXdCO0FBQ3hCLHdCQUF3QjtBQUN4Qix5QkFBeUI7QUFDekI7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGtleXMgPSBbXTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGJpbmRLZXkoayl7XG4gICAgcmV0dXJuIG5ldyBLZXkoayk7XG5cdH0sXG4gIHVuYmluZEtleShrKSB7XG4gICAga2V5c1trXSA9IG51bGw7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIEtleShrKXtcblxuXHRpZiAoay5sZW5ndGggPiAxKSB7XG5cdFx0dmFyIGMgPSAwO1xuXHRcdHN3aXRjaCAoay50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBjYXNlIFwiRU5URVJcIjogICAgYz0xMzsgYnJlYWs7XG5cdFx0XHRjYXNlIFwiTEVGVFwiOiAgIFx0IGM9Mzc7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIlJJR0hUXCI6IFx0IGM9Mzk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIlVQXCI6ICAgIFx0IGM9Mzg7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIkRPV05cIjogIFx0IGM9NDA7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIlNQQUNFQkFSXCI6IGM9MzI7IGJyZWFrO1xuXHRcdH1cblx0XHR0aGlzLmNvZGUgPSBjO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuY29kZSA9IGsuY2hhckNvZGVBdCgwKTtcblx0fVxuXG5cdHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuXHR0aGlzLmV2ZW50ID0gbnVsbDtcblxuXHRrZXlzW3RoaXMuY29kZV0gPSB0aGlzO1xuXG5cdHJldHVybiB0aGlzO1xufVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uICgpIHtcblx0dmFyIGtleUNvZGUgPSB3aW5kb3cuZXZlbnQua2V5Q29kZTtcblx0aWYgKGtleXNba2V5Q29kZV0pIHtcblx0XHRrZXlzW2tleUNvZGVdLnByZXNzZWQgPSBmYWxzZTtcblx0fVxufSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKCkge1xuXHR2YXIga2V5Q29kZSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlO1xuXHRpZiAoa2V5c1trZXlDb2RlXSkge1xuXHRcdGlmICgha2V5c1trZXlDb2RlXS5wcmVzc2VkICYmIGtleXNba2V5Q29kZV0uZXZlbnQpIHtcblx0XHRcdGtleXNba2V5Q29kZV0uZXZlbnQoKTtcblx0XHR9XG5cdFx0a2V5c1trZXlDb2RlXS5wcmVzc2VkID0gdHJ1ZTtcblx0fVxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9pbnB1dC9LZXlib2FyZC5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval("var Component = __webpack_require__(10);\nvar Transform = __webpack_require__(9);\nvar BoxCollider2D = __webpack_require__(20);\nvar Rect = __webpack_require__(13);\nvar Text = __webpack_require__(12);\n\nmodule.exports = {\n  Component,\n  Transform,\n  BoxCollider2D,\n  Rect,\n  Text\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9pbmRleC5qcz9kZjQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9Db21wb25lbnQnKTtcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCcuL1RyYW5zZm9ybScpO1xudmFyIEJveENvbGxpZGVyMkQgPSByZXF1aXJlKCcuL0JveENvbGxpZGVyMkQnKTtcbnZhciBSZWN0ID0gcmVxdWlyZSgnLi9SZWN0Jyk7XG52YXIgVGV4dCA9IHJlcXVpcmUoJy4vVGV4dCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQ29tcG9uZW50LFxuICBUcmFuc2Zvcm0sXG4gIEJveENvbGxpZGVyMkQsXG4gIFJlY3QsXG4gIFRleHRcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9jb21wb25lbnRzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("var Game = __webpack_require__(4);\nvar Component = __webpack_require__(10);\n\nfunction BoxCollider2D(x, y, w, h) {\n  Component.call(this);\n  this.x = x || 0;\n  this.y = y || 0;\n  this.width = w || 0;\n  this.height = h || 0;\n  this.onUpdate = onUpdate\n}\n\nBoxCollider2D.prototype = Object.create(Component.prototype);\nBoxCollider2D.prototype.constructor = BoxCollider2D;\n\nmodule.exports = BoxCollider2D;\n\nvar onUpdate = function (entity1) {\n  var transform1 = entity1.components.transform;\n  var x1 = transform1.x + this.x;\n  var y1 = transform1.y + this.y;\n  var w1 = transform1.width + this.width;\n  var h1 = transform1.height + this.height;\n  var colliders = Game.getScene().findEntityByComponentType(BoxCollider2D);\n  for (var i = 0; i < colliders.length; i++) {\n    var entity2 = colliders[i];\n    if (entity1 === entity2) {\n      continue;\n    }\n    var transform2 = entity2.components.transform;\n    var boxCollider = entity2.components.boxcollider;\n    var x2 = transform2.x + boxCollider.x;\n    var y2 = transform2.y + boxCollider.y;\n    var w2 = transform2.width + boxCollider.width;\n    var h2 = transform2.height + boxCollider.height;\n    if((y1 +  h1 >= y2 &&\n        y1 <= y2 +  h2) &&\n  \t   (x1 +  w1 >= x2 &&\n        x1 <= x2 +  w2)){\n  \t\tentity1.emit('collision2D', entity2);\n      entity2.emit('collision2D', entity1);\n  \t}\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9Cb3hDb2xsaWRlcjJELmpzP2JhNWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEdhbWUgPSByZXF1aXJlKCcuLi9jb3JlL0dhbWUnKTtcbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuL0NvbXBvbmVudCcpO1xuXG5mdW5jdGlvbiBCb3hDb2xsaWRlcjJEKHgsIHksIHcsIGgpIHtcbiAgQ29tcG9uZW50LmNhbGwodGhpcyk7XG4gIHRoaXMueCA9IHggfHwgMDtcbiAgdGhpcy55ID0geSB8fCAwO1xuICB0aGlzLndpZHRoID0gdyB8fCAwO1xuICB0aGlzLmhlaWdodCA9IGggfHwgMDtcbiAgdGhpcy5vblVwZGF0ZSA9IG9uVXBkYXRlXG59XG5cbkJveENvbGxpZGVyMkQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDb21wb25lbnQucHJvdG90eXBlKTtcbkJveENvbGxpZGVyMkQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQm94Q29sbGlkZXIyRDtcblxubW9kdWxlLmV4cG9ydHMgPSBCb3hDb2xsaWRlcjJEO1xuXG52YXIgb25VcGRhdGUgPSBmdW5jdGlvbiAoZW50aXR5MSkge1xuICB2YXIgdHJhbnNmb3JtMSA9IGVudGl0eTEuY29tcG9uZW50cy50cmFuc2Zvcm07XG4gIHZhciB4MSA9IHRyYW5zZm9ybTEueCArIHRoaXMueDtcbiAgdmFyIHkxID0gdHJhbnNmb3JtMS55ICsgdGhpcy55O1xuICB2YXIgdzEgPSB0cmFuc2Zvcm0xLndpZHRoICsgdGhpcy53aWR0aDtcbiAgdmFyIGgxID0gdHJhbnNmb3JtMS5oZWlnaHQgKyB0aGlzLmhlaWdodDtcbiAgdmFyIGNvbGxpZGVycyA9IEdhbWUuZ2V0U2NlbmUoKS5maW5kRW50aXR5QnlDb21wb25lbnRUeXBlKEJveENvbGxpZGVyMkQpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbGxpZGVycy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBlbnRpdHkyID0gY29sbGlkZXJzW2ldO1xuICAgIGlmIChlbnRpdHkxID09PSBlbnRpdHkyKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIHRyYW5zZm9ybTIgPSBlbnRpdHkyLmNvbXBvbmVudHMudHJhbnNmb3JtO1xuICAgIHZhciBib3hDb2xsaWRlciA9IGVudGl0eTIuY29tcG9uZW50cy5ib3hjb2xsaWRlcjtcbiAgICB2YXIgeDIgPSB0cmFuc2Zvcm0yLnggKyBib3hDb2xsaWRlci54O1xuICAgIHZhciB5MiA9IHRyYW5zZm9ybTIueSArIGJveENvbGxpZGVyLnk7XG4gICAgdmFyIHcyID0gdHJhbnNmb3JtMi53aWR0aCArIGJveENvbGxpZGVyLndpZHRoO1xuICAgIHZhciBoMiA9IHRyYW5zZm9ybTIuaGVpZ2h0ICsgYm94Q29sbGlkZXIuaGVpZ2h0O1xuICAgIGlmKCh5MSArICBoMSA+PSB5MiAmJlxuICAgICAgICB5MSA8PSB5MiArICBoMikgJiZcbiAgXHQgICAoeDEgKyAgdzEgPj0geDIgJiZcbiAgICAgICAgeDEgPD0geDIgKyAgdzIpKXtcbiAgXHRcdGVudGl0eTEuZW1pdCgnY29sbGlzaW9uMkQnLCBlbnRpdHkyKTtcbiAgICAgIGVudGl0eTIuZW1pdCgnY29sbGlzaW9uMkQnLCBlbnRpdHkxKTtcbiAgXHR9XG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2NvbXBvbmVudHMvQm94Q29sbGlkZXIyRC5qc1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")}]);
